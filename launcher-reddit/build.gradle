apply plugin: 'com.github.johnrengelman.shadow'

jar {
    manifest {
        attributes('Main-Class': 'com.skcraft.launcher.RedditLauncher')
    }
}

dependencies {
    compile project(':launcher')
    compile 'com.github.insubstantial:substance:7.3'
    compileOnly 'org.projectlombok:lombok:1.18.20'
    annotationProcessor 'org.projectlombok:lombok:1.18.20'

    testCompileOnly 'org.projectlombok:lombok:1.18.20'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'
}

shadowJar {
    dependencies {
        exclude(dependency('org.projectlombok:lombok'))
    }
}
repositories {
    mavenCentral()
}

build.dependsOn(shadowJar)